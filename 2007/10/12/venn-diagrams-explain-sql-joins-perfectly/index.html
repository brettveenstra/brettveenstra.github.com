<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width">
    <title>Venn Diagrams explain SQL Joins Perfectly - Journeyman to Master
    </title>
    <link rel="alternate" href="http://programmer.brettveenstra.com/feed.xml" type="application/rss+xml" title="One programmer's journey on the path">
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic|Anonymous+Pro:400,700,400italic,700italic|Merriweather:400,700,300">
    <link rel="stylesheet" href="/css/main.css">
  </head>
  <body class="article-detail">
    <header class="header">
      <div class="content-wrap">
        <h1>Venn Diagrams explain SQL Joins Perfectly</h1>
        <p class="author">Written by <span class="author"><a href="mailto:brettveenstra@gmail.com">Brett Veenstra</a></span>
        </p>
      </div>
    </header>
    <div id="content">
      <div class="content-wrap">
        <article class="article">
          <section class="content"><p>In a series of posts on both <a href="http://www.codinghorror.com/blog/2007/10/a-visual-explanation-of-sql-joins.html">Coding Horror</a> and the linked <a href="http://www.khankennels.com/blog/index.php/archives/2007/04/20/getting-joins/">Me Talking Out Loud</a>, comments have arisen that suggest Venn diagrams are insufficient to properly represent <span class="caps">SQL</span>&nbsp;Joins.</p>
<p>I totally disagree, Venn diagrams fit perfectly.  The biggest problem is <span class="more"></span>that people creating the diagram assume that the Table is one of the sets.  This is apparently the problem again with Jeff’s and Ligaya’s&nbsp;diagrams.</p>
<p>Here’s one of Jeff’s awesome&nbsp;images:</p>
<p><img src="http://codinghorror.typepad.com/.a/6a0120a85dcdae970b012877702708970c-pi" alt=""></p>
<p>We’ve seen this as the classical starting point to explain joins in relational databases.  Once you get over the mechanics of what the <span class="caps">JOIN</span> operations do, you need to abandon this thinking quickly and focus on just what are those sets, otherwise you keep thinking about tables, not&nbsp;conditions.</p>
<p>For instance, how are these <span class="caps">SQL</span> statements&nbsp;different?</p>
<pre><code class="lang-SQL"><span class="operator"><span class="keyword"><span class="caps">SELECT</span></span> *
<span class="keyword"><span class="caps">FROM</span></span> customer
<span class="keyword"><span class="caps">INNER</span></span> <span class="keyword"><span class="caps">JOIN</span></span> <span class="keyword">order</span> <span class="keyword"><span class="caps">ON</span></span> <span class="keyword">order</span>.<span class="keyword">id</span> = customer.<span class="keyword">id</span>
<span class="keyword"><span class="caps">WHERE</span></span>
    <span class="keyword">order</span>.total &gt; <span class="number">100</span>


<span class="keyword"><span class="caps">SELECT</span></span> *
<span class="keyword"><span class="caps">FROM</span></span> customer
<span class="keyword"><span class="caps">INNER</span></span> <span class="keyword"><span class="caps">JOIN</span></span> <span class="keyword">order</span> <span class="keyword"><span class="caps">ON</span></span> <span class="keyword">order</span>.<span class="keyword">id</span> = customer.<span class="keyword">id</span>
    <span class="keyword"><span class="caps">AND</span></span> <span class="keyword">order</span>.total &gt; <span class="number">100</span></span>
</code></pre>
<p>They aren’t.  In a Venn Diagram, this could be represented&nbsp;as:</p>
<!--[if gte vml 1]&gt;   &lt;![endif]--><!--[if !vml]--><img src="http://farm3.static.flickr.com/2087/1551734559_69b3fe3f2c.jpg?v=0" alt=""><!--[endif]-->
<h3 id="next-time-you-re-working-up-some-sql-code-start-first-with-what-you-are-trying-to-get-and-then-focus-on-how-to-they-relate-with-a-join-">Next time you’re working up some <span class="caps">SQL</span> code, start first with what you are trying to get, and then focus on how to they relate with a&nbsp;JOIN.</h3>
<p>What about the <span class="caps">CROSS</span> JOIN you say?  Instead of this (from&nbsp;Ligaya):</p>
<!--[if gte vml 1]&gt;   &lt;![endif]--><!--[if !vml]--><img src="http://www.khankennels.com/blog/wp-content/uploads/2007/04/thetavenn.png" alt=""><!--[endif]-->
<p>Draw a <strong>large </strong>circle with the product of the areas of your original sets…&nbsp;:)</p>
</section>
        </article>
      </div>
    </div>
    <footer>
      <div class="content-wrap">
        <div class="nav"><a href="/">« Full blog</a></div>
        <section class="about">
        </section>
        <section class="copy">
          <p>&copy; 2015 Brett Veenstra &mdash; powered by&nbsp;<a href="https://github.com/jnordberg/wintersmith">Wintersmith</a>
          </p>
        </section>
      </div>
    </footer>
  </body>
</html>